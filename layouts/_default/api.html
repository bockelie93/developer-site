{{- define "main" -}}
  {{- $notAnApi := $.Param "notanapi" -}}
  {{- $maxwidth := "maxw64r" -}}
  {{- if (eq ($.Param "widelayout") true) -}}
    {{- $maxwidth = "" -}}
  {{- end -}}

  <div class="dev-container">
    <div class="dev-pagewmenu">
      <div class="dev-pagewmenu__menu">
        {{- partial "sidemenu.html" . -}}
      </div>
      <div class="dev-pagewmenu__page">
        {{- if (eq $notAnApi true) -}}
          <article class="dev-documentation w100p {{ $maxwidth }}">
            {{- .Content -}}
            {{- if (in .CurrentSection "revision-history") -}}
              {{- partial "api/changelog.html" . -}}
            {{- end -}}
            {{- if and (eq (getenv "HUGO_ENV") "production") (isset $.Params "disqus_identifier") -}}
              <section class="dev-documentation__section">
                {{ template "_internal/disqus.html" $ }}
              </section>
            {{ end }}
          </article>
          {{- else -}}
          {{- partial "api/docs.html" . -}}
        {{- end -}}
      </div>
    </div>
  </div>
{{- end -}}
